"use strict";export const validate = validate14;export default validate14;var schema16 = {"$schema":"http://json-schema.org/draft-07/schema#","$ref":"#/definitions/CharacterCardV3","definitions":{"CharacterCardV3":{"type":"object","properties":{"spec":{"type":"string","const":"chara_card_v3"},"spec_version":{"type":"string","const":"3.0"},"data":{"type":"object","properties":{"name":{"type":"string"},"description":{"type":"string"},"tags":{"type":"array","items":{"type":"string"}},"creator":{"type":"string"},"character_version":{"type":"string"},"mes_example":{"type":"string"},"extensions":{"type":"object"},"system_prompt":{"type":"string"},"post_history_instructions":{"type":"string"},"first_mes":{"type":"string"},"alternate_greetings":{"type":"array","items":{"type":"string"}},"personality":{"type":"string"},"scenario":{"type":"string"},"creator_notes":{"type":"string"},"character_book":{"$ref":"#/definitions/Lorebook"},"assets":{"type":"array","items":{"type":"object","properties":{"type":{"type":"string"},"uri":{"type":"string"},"name":{"type":"string"},"ext":{"type":"string"}},"required":["type","uri","name","ext"],"additionalProperties":true}},"nickname":{"type":"string"},"creator_notes_multilingual":{"type":"object","additionalProperties":{"type":"string"}},"source":{"type":"array","items":{"type":"string"}},"group_only_greetings":{"type":"array","items":{"type":"string"}},"creation_date":{"type":"number"},"modification_date":{"type":"number"}},"required":["name","description","tags","creator","character_version","mes_example","extensions","system_prompt","post_history_instructions","first_mes","alternate_greetings","personality","scenario","creator_notes","group_only_greetings"],"additionalProperties":true}},"required":["spec","spec_version","data"],"additionalProperties":true},"Lorebook":{"type":"object","properties":{"name":{"type":"string"},"description":{"type":"string"},"scan_depth":{"type":"number"},"token_budget":{"type":"number"},"recursive_scanning":{"type":"boolean"},"extensions":{"type":"object"},"entries":{"type":"array","items":{"$ref":"#/definitions/LorebookEntry"}}},"required":["extensions","entries"],"additionalProperties":true},"LorebookEntry":{"type":"object","properties":{"keys":{"type":"array","items":{"type":"string"}},"content":{"type":"string"},"extensions":{"type":"object"},"enabled":{"type":"boolean"},"insertion_order":{"type":"number"},"case_sensitive":{"type":"boolean"},"use_regex":{"type":"boolean"},"constant":{"type":"boolean"},"name":{"type":"string"},"priority":{"type":"number"},"id":{"type":"number"},"comment":{"type":"string"},"selective":{"type":"boolean"},"secondary_keys":{"type":"array","items":{"type":"string"}},"position":{"type":"string","enum":["before_char","after_char"]}},"required":["keys","content","extensions","enabled","insertion_order","use_regex"],"additionalProperties":true}}};var schema17 = {"type":"object","properties":{"spec":{"type":"string","const":"chara_card_v3"},"spec_version":{"type":"string","const":"3.0"},"data":{"type":"object","properties":{"name":{"type":"string"},"description":{"type":"string"},"tags":{"type":"array","items":{"type":"string"}},"creator":{"type":"string"},"character_version":{"type":"string"},"mes_example":{"type":"string"},"extensions":{"type":"object"},"system_prompt":{"type":"string"},"post_history_instructions":{"type":"string"},"first_mes":{"type":"string"},"alternate_greetings":{"type":"array","items":{"type":"string"}},"personality":{"type":"string"},"scenario":{"type":"string"},"creator_notes":{"type":"string"},"character_book":{"$ref":"#/definitions/Lorebook"},"assets":{"type":"array","items":{"type":"object","properties":{"type":{"type":"string"},"uri":{"type":"string"},"name":{"type":"string"},"ext":{"type":"string"}},"required":["type","uri","name","ext"],"additionalProperties":true}},"nickname":{"type":"string"},"creator_notes_multilingual":{"type":"object","additionalProperties":{"type":"string"}},"source":{"type":"array","items":{"type":"string"}},"group_only_greetings":{"type":"array","items":{"type":"string"}},"creation_date":{"type":"number"},"modification_date":{"type":"number"}},"required":["name","description","tags","creator","character_version","mes_example","extensions","system_prompt","post_history_instructions","first_mes","alternate_greetings","personality","scenario","creator_notes","group_only_greetings"],"additionalProperties":true}},"required":["spec","spec_version","data"],"additionalProperties":true};var schema18 = {"type":"object","properties":{"name":{"type":"string"},"description":{"type":"string"},"scan_depth":{"type":"number"},"token_budget":{"type":"number"},"recursive_scanning":{"type":"boolean"},"extensions":{"type":"object"},"entries":{"type":"array","items":{"$ref":"#/definitions/LorebookEntry"}}},"required":["extensions","entries"],"additionalProperties":true};var schema19 = {"type":"object","properties":{"keys":{"type":"array","items":{"type":"string"}},"content":{"type":"string"},"extensions":{"type":"object"},"enabled":{"type":"boolean"},"insertion_order":{"type":"number"},"case_sensitive":{"type":"boolean"},"use_regex":{"type":"boolean"},"constant":{"type":"boolean"},"name":{"type":"string"},"priority":{"type":"number"},"id":{"type":"number"},"comment":{"type":"string"},"selective":{"type":"boolean"},"secondary_keys":{"type":"array","items":{"type":"string"}},"position":{"type":"string","enum":["before_char","after_char"]}},"required":["keys","content","extensions","enabled","insertion_order","use_regex"],"additionalProperties":true};function validate16(data, valCxt){"use strict"; ;if(valCxt){var instancePath = valCxt.instancePath;var parentData = valCxt.parentData;var parentDataProperty = valCxt.parentDataProperty;var rootData = valCxt.rootData;}else {var instancePath = "";var parentData = undefined;var parentDataProperty = undefined;var rootData = data;}var vErrors = null;var errors = 0;if(errors === 0){if(data && typeof data == "object" && !Array.isArray(data)){var missing0;if(((data.extensions === undefined) && (missing0 = "extensions")) || ((data.entries === undefined) && (missing0 = "entries"))){validate16.errors = [{instancePath:instancePath,schemaPath:"#/required",keyword:"required",params:{missingProperty: missing0},message:"must have required property '"+missing0+"'"}];return false;}else {if(data.name !== undefined){var _errs2 = errors;if(typeof data.name !== "string"){validate16.errors = [{instancePath:instancePath+"/name",schemaPath:"#/properties/name/type",keyword:"type",params:{type: "string"},message:"must be string"}];return false;}var valid0 = _errs2 === errors;}else {var valid0 = true;}if(valid0){if(data.description !== undefined){var _errs4 = errors;if(typeof data.description !== "string"){validate16.errors = [{instancePath:instancePath+"/description",schemaPath:"#/properties/description/type",keyword:"type",params:{type: "string"},message:"must be string"}];return false;}var valid0 = _errs4 === errors;}else {var valid0 = true;}if(valid0){if(data.scan_depth !== undefined){var _errs6 = errors;if(!(typeof data.scan_depth == "number")){validate16.errors = [{instancePath:instancePath+"/scan_depth",schemaPath:"#/properties/scan_depth/type",keyword:"type",params:{type: "number"},message:"must be number"}];return false;}var valid0 = _errs6 === errors;}else {var valid0 = true;}if(valid0){if(data.token_budget !== undefined){var _errs8 = errors;if(!(typeof data.token_budget == "number")){validate16.errors = [{instancePath:instancePath+"/token_budget",schemaPath:"#/properties/token_budget/type",keyword:"type",params:{type: "number"},message:"must be number"}];return false;}var valid0 = _errs8 === errors;}else {var valid0 = true;}if(valid0){if(data.recursive_scanning !== undefined){var _errs10 = errors;if(typeof data.recursive_scanning !== "boolean"){validate16.errors = [{instancePath:instancePath+"/recursive_scanning",schemaPath:"#/properties/recursive_scanning/type",keyword:"type",params:{type: "boolean"},message:"must be boolean"}];return false;}var valid0 = _errs10 === errors;}else {var valid0 = true;}if(valid0){if(data.extensions !== undefined){var data5 = data.extensions;var _errs12 = errors;if(!(data5 && typeof data5 == "object" && !Array.isArray(data5))){validate16.errors = [{instancePath:instancePath+"/extensions",schemaPath:"#/properties/extensions/type",keyword:"type",params:{type: "object"},message:"must be object"}];return false;}var valid0 = _errs12 === errors;}else {var valid0 = true;}if(valid0){if(data.entries !== undefined){var data6 = data.entries;var _errs14 = errors;if(errors === _errs14){if(Array.isArray(data6)){var valid1 = true;var len0 = data6.length;for(var i0=0; i0<len0; i0++){var data7 = data6[i0];var _errs16 = errors;var _errs17 = errors;if(errors === _errs17){if(data7 && typeof data7 == "object" && !Array.isArray(data7)){var missing1;if(((((((data7.keys === undefined) && (missing1 = "keys")) || ((data7.content === undefined) && (missing1 = "content"))) || ((data7.extensions === undefined) && (missing1 = "extensions"))) || ((data7.enabled === undefined) && (missing1 = "enabled"))) || ((data7.insertion_order === undefined) && (missing1 = "insertion_order"))) || ((data7.use_regex === undefined) && (missing1 = "use_regex"))){validate16.errors = [{instancePath:instancePath+"/entries/" + i0,schemaPath:"#/definitions/LorebookEntry/required",keyword:"required",params:{missingProperty: missing1},message:"must have required property '"+missing1+"'"}];return false;}else {if(data7.keys !== undefined){var data8 = data7.keys;var _errs20 = errors;if(errors === _errs20){if(Array.isArray(data8)){var valid4 = true;var len1 = data8.length;for(var i1=0; i1<len1; i1++){var _errs22 = errors;if(typeof data8[i1] !== "string"){validate16.errors = [{instancePath:instancePath+"/entries/" + i0+"/keys/" + i1,schemaPath:"#/definitions/LorebookEntry/properties/keys/items/type",keyword:"type",params:{type: "string"},message:"must be string"}];return false;}var valid4 = _errs22 === errors;if(!valid4){break;}}}else {validate16.errors = [{instancePath:instancePath+"/entries/" + i0+"/keys",schemaPath:"#/definitions/LorebookEntry/properties/keys/type",keyword:"type",params:{type: "array"},message:"must be array"}];return false;}}var valid3 = _errs20 === errors;}else {var valid3 = true;}if(valid3){if(data7.content !== undefined){var _errs24 = errors;if(typeof data7.content !== "string"){validate16.errors = [{instancePath:instancePath+"/entries/" + i0+"/content",schemaPath:"#/definitions/LorebookEntry/properties/content/type",keyword:"type",params:{type: "string"},message:"must be string"}];return false;}var valid3 = _errs24 === errors;}else {var valid3 = true;}if(valid3){if(data7.extensions !== undefined){var data11 = data7.extensions;var _errs26 = errors;if(!(data11 && typeof data11 == "object" && !Array.isArray(data11))){validate16.errors = [{instancePath:instancePath+"/entries/" + i0+"/extensions",schemaPath:"#/definitions/LorebookEntry/properties/extensions/type",keyword:"type",params:{type: "object"},message:"must be object"}];return false;}var valid3 = _errs26 === errors;}else {var valid3 = true;}if(valid3){if(data7.enabled !== undefined){var _errs28 = errors;if(typeof data7.enabled !== "boolean"){validate16.errors = [{instancePath:instancePath+"/entries/" + i0+"/enabled",schemaPath:"#/definitions/LorebookEntry/properties/enabled/type",keyword:"type",params:{type: "boolean"},message:"must be boolean"}];return false;}var valid3 = _errs28 === errors;}else {var valid3 = true;}if(valid3){if(data7.insertion_order !== undefined){var _errs30 = errors;if(!(typeof data7.insertion_order == "number")){validate16.errors = [{instancePath:instancePath+"/entries/" + i0+"/insertion_order",schemaPath:"#/definitions/LorebookEntry/properties/insertion_order/type",keyword:"type",params:{type: "number"},message:"must be number"}];return false;}var valid3 = _errs30 === errors;}else {var valid3 = true;}if(valid3){if(data7.case_sensitive !== undefined){var _errs32 = errors;if(typeof data7.case_sensitive !== "boolean"){validate16.errors = [{instancePath:instancePath+"/entries/" + i0+"/case_sensitive",schemaPath:"#/definitions/LorebookEntry/properties/case_sensitive/type",keyword:"type",params:{type: "boolean"},message:"must be boolean"}];return false;}var valid3 = _errs32 === errors;}else {var valid3 = true;}if(valid3){if(data7.use_regex !== undefined){var _errs34 = errors;if(typeof data7.use_regex !== "boolean"){validate16.errors = [{instancePath:instancePath+"/entries/" + i0+"/use_regex",schemaPath:"#/definitions/LorebookEntry/properties/use_regex/type",keyword:"type",params:{type: "boolean"},message:"must be boolean"}];return false;}var valid3 = _errs34 === errors;}else {var valid3 = true;}if(valid3){if(data7.constant !== undefined){var _errs36 = errors;if(typeof data7.constant !== "boolean"){validate16.errors = [{instancePath:instancePath+"/entries/" + i0+"/constant",schemaPath:"#/definitions/LorebookEntry/properties/constant/type",keyword:"type",params:{type: "boolean"},message:"must be boolean"}];return false;}var valid3 = _errs36 === errors;}else {var valid3 = true;}if(valid3){if(data7.name !== undefined){var _errs38 = errors;if(typeof data7.name !== "string"){validate16.errors = [{instancePath:instancePath+"/entries/" + i0+"/name",schemaPath:"#/definitions/LorebookEntry/properties/name/type",keyword:"type",params:{type: "string"},message:"must be string"}];return false;}var valid3 = _errs38 === errors;}else {var valid3 = true;}if(valid3){if(data7.priority !== undefined){var _errs40 = errors;if(!(typeof data7.priority == "number")){validate16.errors = [{instancePath:instancePath+"/entries/" + i0+"/priority",schemaPath:"#/definitions/LorebookEntry/properties/priority/type",keyword:"type",params:{type: "number"},message:"must be number"}];return false;}var valid3 = _errs40 === errors;}else {var valid3 = true;}if(valid3){if(data7.id !== undefined){var _errs42 = errors;if(!(typeof data7.id == "number")){validate16.errors = [{instancePath:instancePath+"/entries/" + i0+"/id",schemaPath:"#/definitions/LorebookEntry/properties/id/type",keyword:"type",params:{type: "number"},message:"must be number"}];return false;}var valid3 = _errs42 === errors;}else {var valid3 = true;}if(valid3){if(data7.comment !== undefined){var _errs44 = errors;if(typeof data7.comment !== "string"){validate16.errors = [{instancePath:instancePath+"/entries/" + i0+"/comment",schemaPath:"#/definitions/LorebookEntry/properties/comment/type",keyword:"type",params:{type: "string"},message:"must be string"}];return false;}var valid3 = _errs44 === errors;}else {var valid3 = true;}if(valid3){if(data7.selective !== undefined){var _errs46 = errors;if(typeof data7.selective !== "boolean"){validate16.errors = [{instancePath:instancePath+"/entries/" + i0+"/selective",schemaPath:"#/definitions/LorebookEntry/properties/selective/type",keyword:"type",params:{type: "boolean"},message:"must be boolean"}];return false;}var valid3 = _errs46 === errors;}else {var valid3 = true;}if(valid3){if(data7.secondary_keys !== undefined){var data22 = data7.secondary_keys;var _errs48 = errors;if(errors === _errs48){if(Array.isArray(data22)){var valid5 = true;var len2 = data22.length;for(var i2=0; i2<len2; i2++){var _errs50 = errors;if(typeof data22[i2] !== "string"){validate16.errors = [{instancePath:instancePath+"/entries/" + i0+"/secondary_keys/" + i2,schemaPath:"#/definitions/LorebookEntry/properties/secondary_keys/items/type",keyword:"type",params:{type: "string"},message:"must be string"}];return false;}var valid5 = _errs50 === errors;if(!valid5){break;}}}else {validate16.errors = [{instancePath:instancePath+"/entries/" + i0+"/secondary_keys",schemaPath:"#/definitions/LorebookEntry/properties/secondary_keys/type",keyword:"type",params:{type: "array"},message:"must be array"}];return false;}}var valid3 = _errs48 === errors;}else {var valid3 = true;}if(valid3){if(data7.position !== undefined){var data24 = data7.position;var _errs52 = errors;if(typeof data24 !== "string"){validate16.errors = [{instancePath:instancePath+"/entries/" + i0+"/position",schemaPath:"#/definitions/LorebookEntry/properties/position/type",keyword:"type",params:{type: "string"},message:"must be string"}];return false;}if(!((data24 === "before_char") || (data24 === "after_char"))){validate16.errors = [{instancePath:instancePath+"/entries/" + i0+"/position",schemaPath:"#/definitions/LorebookEntry/properties/position/enum",keyword:"enum",params:{allowedValues: schema19.properties.position.enum},message:"must be equal to one of the allowed values"}];return false;}var valid3 = _errs52 === errors;}else {var valid3 = true;}}}}}}}}}}}}}}}}}else {validate16.errors = [{instancePath:instancePath+"/entries/" + i0,schemaPath:"#/definitions/LorebookEntry/type",keyword:"type",params:{type: "object"},message:"must be object"}];return false;}}var valid1 = _errs16 === errors;if(!valid1){break;}}}else {validate16.errors = [{instancePath:instancePath+"/entries",schemaPath:"#/properties/entries/type",keyword:"type",params:{type: "array"},message:"must be array"}];return false;}}var valid0 = _errs14 === errors;}else {var valid0 = true;}}}}}}}}}else {validate16.errors = [{instancePath:instancePath,schemaPath:"#/type",keyword:"type",params:{type: "object"},message:"must be object"}];return false;}}validate16.errors = vErrors;return errors === 0;}function validate15(data, valCxt){"use strict"; ;if(valCxt){var instancePath = valCxt.instancePath;var parentData = valCxt.parentData;var parentDataProperty = valCxt.parentDataProperty;var rootData = valCxt.rootData;}else {var instancePath = "";var parentData = undefined;var parentDataProperty = undefined;var rootData = data;}var vErrors = null;var errors = 0;if(errors === 0){if(data && typeof data == "object" && !Array.isArray(data)){var missing0;if((((data.spec === undefined) && (missing0 = "spec")) || ((data.spec_version === undefined) && (missing0 = "spec_version"))) || ((data.data === undefined) && (missing0 = "data"))){validate15.errors = [{instancePath:instancePath,schemaPath:"#/required",keyword:"required",params:{missingProperty: missing0},message:"must have required property '"+missing0+"'"}];return false;}else {if(data.spec !== undefined){var data0 = data.spec;var _errs2 = errors;if(typeof data0 !== "string"){validate15.errors = [{instancePath:instancePath+"/spec",schemaPath:"#/properties/spec/type",keyword:"type",params:{type: "string"},message:"must be string"}];return false;}if("chara_card_v3" !== data0){validate15.errors = [{instancePath:instancePath+"/spec",schemaPath:"#/properties/spec/const",keyword:"const",params:{allowedValue: "chara_card_v3"},message:"must be equal to constant"}];return false;}var valid0 = _errs2 === errors;}else {var valid0 = true;}if(valid0){if(data.spec_version !== undefined){var data1 = data.spec_version;var _errs4 = errors;if(typeof data1 !== "string"){validate15.errors = [{instancePath:instancePath+"/spec_version",schemaPath:"#/properties/spec_version/type",keyword:"type",params:{type: "string"},message:"must be string"}];return false;}if("3.0" !== data1){validate15.errors = [{instancePath:instancePath+"/spec_version",schemaPath:"#/properties/spec_version/const",keyword:"const",params:{allowedValue: "3.0"},message:"must be equal to constant"}];return false;}var valid0 = _errs4 === errors;}else {var valid0 = true;}if(valid0){if(data.data !== undefined){var data2 = data.data;var _errs6 = errors;if(errors === _errs6){if(data2 && typeof data2 == "object" && !Array.isArray(data2)){var missing1;if((((((((((((((((data2.name === undefined) && (missing1 = "name")) || ((data2.description === undefined) && (missing1 = "description"))) || ((data2.tags === undefined) && (missing1 = "tags"))) || ((data2.creator === undefined) && (missing1 = "creator"))) || ((data2.character_version === undefined) && (missing1 = "character_version"))) || ((data2.mes_example === undefined) && (missing1 = "mes_example"))) || ((data2.extensions === undefined) && (missing1 = "extensions"))) || ((data2.system_prompt === undefined) && (missing1 = "system_prompt"))) || ((data2.post_history_instructions === undefined) && (missing1 = "post_history_instructions"))) || ((data2.first_mes === undefined) && (missing1 = "first_mes"))) || ((data2.alternate_greetings === undefined) && (missing1 = "alternate_greetings"))) || ((data2.personality === undefined) && (missing1 = "personality"))) || ((data2.scenario === undefined) && (missing1 = "scenario"))) || ((data2.creator_notes === undefined) && (missing1 = "creator_notes"))) || ((data2.group_only_greetings === undefined) && (missing1 = "group_only_greetings"))){validate15.errors = [{instancePath:instancePath+"/data",schemaPath:"#/properties/data/required",keyword:"required",params:{missingProperty: missing1},message:"must have required property '"+missing1+"'"}];return false;}else {if(data2.name !== undefined){var _errs9 = errors;if(typeof data2.name !== "string"){validate15.errors = [{instancePath:instancePath+"/data/name",schemaPath:"#/properties/data/properties/name/type",keyword:"type",params:{type: "string"},message:"must be string"}];return false;}var valid1 = _errs9 === errors;}else {var valid1 = true;}if(valid1){if(data2.description !== undefined){var _errs11 = errors;if(typeof data2.description !== "string"){validate15.errors = [{instancePath:instancePath+"/data/description",schemaPath:"#/properties/data/properties/description/type",keyword:"type",params:{type: "string"},message:"must be string"}];return false;}var valid1 = _errs11 === errors;}else {var valid1 = true;}if(valid1){if(data2.tags !== undefined){var data5 = data2.tags;var _errs13 = errors;if(errors === _errs13){if(Array.isArray(data5)){var valid2 = true;var len0 = data5.length;for(var i0=0; i0<len0; i0++){var _errs15 = errors;if(typeof data5[i0] !== "string"){validate15.errors = [{instancePath:instancePath+"/data/tags/" + i0,schemaPath:"#/properties/data/properties/tags/items/type",keyword:"type",params:{type: "string"},message:"must be string"}];return false;}var valid2 = _errs15 === errors;if(!valid2){break;}}}else {validate15.errors = [{instancePath:instancePath+"/data/tags",schemaPath:"#/properties/data/properties/tags/type",keyword:"type",params:{type: "array"},message:"must be array"}];return false;}}var valid1 = _errs13 === errors;}else {var valid1 = true;}if(valid1){if(data2.creator !== undefined){var _errs17 = errors;if(typeof data2.creator !== "string"){validate15.errors = [{instancePath:instancePath+"/data/creator",schemaPath:"#/properties/data/properties/creator/type",keyword:"type",params:{type: "string"},message:"must be string"}];return false;}var valid1 = _errs17 === errors;}else {var valid1 = true;}if(valid1){if(data2.character_version !== undefined){var _errs19 = errors;if(typeof data2.character_version !== "string"){validate15.errors = [{instancePath:instancePath+"/data/character_version",schemaPath:"#/properties/data/properties/character_version/type",keyword:"type",params:{type: "string"},message:"must be string"}];return false;}var valid1 = _errs19 === errors;}else {var valid1 = true;}if(valid1){if(data2.mes_example !== undefined){var _errs21 = errors;if(typeof data2.mes_example !== "string"){validate15.errors = [{instancePath:instancePath+"/data/mes_example",schemaPath:"#/properties/data/properties/mes_example/type",keyword:"type",params:{type: "string"},message:"must be string"}];return false;}var valid1 = _errs21 === errors;}else {var valid1 = true;}if(valid1){if(data2.extensions !== undefined){var data10 = data2.extensions;var _errs23 = errors;if(!(data10 && typeof data10 == "object" && !Array.isArray(data10))){validate15.errors = [{instancePath:instancePath+"/data/extensions",schemaPath:"#/properties/data/properties/extensions/type",keyword:"type",params:{type: "object"},message:"must be object"}];return false;}var valid1 = _errs23 === errors;}else {var valid1 = true;}if(valid1){if(data2.system_prompt !== undefined){var _errs25 = errors;if(typeof data2.system_prompt !== "string"){validate15.errors = [{instancePath:instancePath+"/data/system_prompt",schemaPath:"#/properties/data/properties/system_prompt/type",keyword:"type",params:{type: "string"},message:"must be string"}];return false;}var valid1 = _errs25 === errors;}else {var valid1 = true;}if(valid1){if(data2.post_history_instructions !== undefined){var _errs27 = errors;if(typeof data2.post_history_instructions !== "string"){validate15.errors = [{instancePath:instancePath+"/data/post_history_instructions",schemaPath:"#/properties/data/properties/post_history_instructions/type",keyword:"type",params:{type: "string"},message:"must be string"}];return false;}var valid1 = _errs27 === errors;}else {var valid1 = true;}if(valid1){if(data2.first_mes !== undefined){var _errs29 = errors;if(typeof data2.first_mes !== "string"){validate15.errors = [{instancePath:instancePath+"/data/first_mes",schemaPath:"#/properties/data/properties/first_mes/type",keyword:"type",params:{type: "string"},message:"must be string"}];return false;}var valid1 = _errs29 === errors;}else {var valid1 = true;}if(valid1){if(data2.alternate_greetings !== undefined){var data14 = data2.alternate_greetings;var _errs31 = errors;if(errors === _errs31){if(Array.isArray(data14)){var valid3 = true;var len1 = data14.length;for(var i1=0; i1<len1; i1++){var _errs33 = errors;if(typeof data14[i1] !== "string"){validate15.errors = [{instancePath:instancePath+"/data/alternate_greetings/" + i1,schemaPath:"#/properties/data/properties/alternate_greetings/items/type",keyword:"type",params:{type: "string"},message:"must be string"}];return false;}var valid3 = _errs33 === errors;if(!valid3){break;}}}else {validate15.errors = [{instancePath:instancePath+"/data/alternate_greetings",schemaPath:"#/properties/data/properties/alternate_greetings/type",keyword:"type",params:{type: "array"},message:"must be array"}];return false;}}var valid1 = _errs31 === errors;}else {var valid1 = true;}if(valid1){if(data2.personality !== undefined){var _errs35 = errors;if(typeof data2.personality !== "string"){validate15.errors = [{instancePath:instancePath+"/data/personality",schemaPath:"#/properties/data/properties/personality/type",keyword:"type",params:{type: "string"},message:"must be string"}];return false;}var valid1 = _errs35 === errors;}else {var valid1 = true;}if(valid1){if(data2.scenario !== undefined){var _errs37 = errors;if(typeof data2.scenario !== "string"){validate15.errors = [{instancePath:instancePath+"/data/scenario",schemaPath:"#/properties/data/properties/scenario/type",keyword:"type",params:{type: "string"},message:"must be string"}];return false;}var valid1 = _errs37 === errors;}else {var valid1 = true;}if(valid1){if(data2.creator_notes !== undefined){var _errs39 = errors;if(typeof data2.creator_notes !== "string"){validate15.errors = [{instancePath:instancePath+"/data/creator_notes",schemaPath:"#/properties/data/properties/creator_notes/type",keyword:"type",params:{type: "string"},message:"must be string"}];return false;}var valid1 = _errs39 === errors;}else {var valid1 = true;}if(valid1){if(data2.character_book !== undefined){var _errs41 = errors;if(!(validate16(data2.character_book, {instancePath:instancePath+"/data/character_book",parentData:data2,parentDataProperty:"character_book",rootData:rootData}))){vErrors = vErrors === null ? validate16.errors : vErrors.concat(validate16.errors);errors = vErrors.length;}var valid1 = _errs41 === errors;}else {var valid1 = true;}if(valid1){if(data2.assets !== undefined){var data20 = data2.assets;var _errs42 = errors;if(errors === _errs42){if(Array.isArray(data20)){var valid4 = true;var len2 = data20.length;for(var i2=0; i2<len2; i2++){var data21 = data20[i2];var _errs44 = errors;if(errors === _errs44){if(data21 && typeof data21 == "object" && !Array.isArray(data21)){var missing2;if(((((data21.type === undefined) && (missing2 = "type")) || ((data21.uri === undefined) && (missing2 = "uri"))) || ((data21.name === undefined) && (missing2 = "name"))) || ((data21.ext === undefined) && (missing2 = "ext"))){validate15.errors = [{instancePath:instancePath+"/data/assets/" + i2,schemaPath:"#/properties/data/properties/assets/items/required",keyword:"required",params:{missingProperty: missing2},message:"must have required property '"+missing2+"'"}];return false;}else {if(data21.type !== undefined){var _errs47 = errors;if(typeof data21.type !== "string"){validate15.errors = [{instancePath:instancePath+"/data/assets/" + i2+"/type",schemaPath:"#/properties/data/properties/assets/items/properties/type/type",keyword:"type",params:{type: "string"},message:"must be string"}];return false;}var valid5 = _errs47 === errors;}else {var valid5 = true;}if(valid5){if(data21.uri !== undefined){var _errs49 = errors;if(typeof data21.uri !== "string"){validate15.errors = [{instancePath:instancePath+"/data/assets/" + i2+"/uri",schemaPath:"#/properties/data/properties/assets/items/properties/uri/type",keyword:"type",params:{type: "string"},message:"must be string"}];return false;}var valid5 = _errs49 === errors;}else {var valid5 = true;}if(valid5){if(data21.name !== undefined){var _errs51 = errors;if(typeof data21.name !== "string"){validate15.errors = [{instancePath:instancePath+"/data/assets/" + i2+"/name",schemaPath:"#/properties/data/properties/assets/items/properties/name/type",keyword:"type",params:{type: "string"},message:"must be string"}];return false;}var valid5 = _errs51 === errors;}else {var valid5 = true;}if(valid5){if(data21.ext !== undefined){var _errs53 = errors;if(typeof data21.ext !== "string"){validate15.errors = [{instancePath:instancePath+"/data/assets/" + i2+"/ext",schemaPath:"#/properties/data/properties/assets/items/properties/ext/type",keyword:"type",params:{type: "string"},message:"must be string"}];return false;}var valid5 = _errs53 === errors;}else {var valid5 = true;}}}}}}else {validate15.errors = [{instancePath:instancePath+"/data/assets/" + i2,schemaPath:"#/properties/data/properties/assets/items/type",keyword:"type",params:{type: "object"},message:"must be object"}];return false;}}var valid4 = _errs44 === errors;if(!valid4){break;}}}else {validate15.errors = [{instancePath:instancePath+"/data/assets",schemaPath:"#/properties/data/properties/assets/type",keyword:"type",params:{type: "array"},message:"must be array"}];return false;}}var valid1 = _errs42 === errors;}else {var valid1 = true;}if(valid1){if(data2.nickname !== undefined){var _errs55 = errors;if(typeof data2.nickname !== "string"){validate15.errors = [{instancePath:instancePath+"/data/nickname",schemaPath:"#/properties/data/properties/nickname/type",keyword:"type",params:{type: "string"},message:"must be string"}];return false;}var valid1 = _errs55 === errors;}else {var valid1 = true;}if(valid1){if(data2.creator_notes_multilingual !== undefined){var data27 = data2.creator_notes_multilingual;var _errs57 = errors;if(errors === _errs57){if(data27 && typeof data27 == "object" && !Array.isArray(data27)){for(var key0 in data27){var _errs60 = errors;if(typeof data27[key0] !== "string"){validate15.errors = [{instancePath:instancePath+"/data/creator_notes_multilingual/" + key0.replace(/~/g, "~0").replace(/\//g, "~1"),schemaPath:"#/properties/data/properties/creator_notes_multilingual/additionalProperties/type",keyword:"type",params:{type: "string"},message:"must be string"}];return false;}var valid6 = _errs60 === errors;if(!valid6){break;}}}else {validate15.errors = [{instancePath:instancePath+"/data/creator_notes_multilingual",schemaPath:"#/properties/data/properties/creator_notes_multilingual/type",keyword:"type",params:{type: "object"},message:"must be object"}];return false;}}var valid1 = _errs57 === errors;}else {var valid1 = true;}if(valid1){if(data2.source !== undefined){var data29 = data2.source;var _errs62 = errors;if(errors === _errs62){if(Array.isArray(data29)){var valid7 = true;var len3 = data29.length;for(var i3=0; i3<len3; i3++){var _errs64 = errors;if(typeof data29[i3] !== "string"){validate15.errors = [{instancePath:instancePath+"/data/source/" + i3,schemaPath:"#/properties/data/properties/source/items/type",keyword:"type",params:{type: "string"},message:"must be string"}];return false;}var valid7 = _errs64 === errors;if(!valid7){break;}}}else {validate15.errors = [{instancePath:instancePath+"/data/source",schemaPath:"#/properties/data/properties/source/type",keyword:"type",params:{type: "array"},message:"must be array"}];return false;}}var valid1 = _errs62 === errors;}else {var valid1 = true;}if(valid1){if(data2.group_only_greetings !== undefined){var data31 = data2.group_only_greetings;var _errs66 = errors;if(errors === _errs66){if(Array.isArray(data31)){var valid8 = true;var len4 = data31.length;for(var i4=0; i4<len4; i4++){var _errs68 = errors;if(typeof data31[i4] !== "string"){validate15.errors = [{instancePath:instancePath+"/data/group_only_greetings/" + i4,schemaPath:"#/properties/data/properties/group_only_greetings/items/type",keyword:"type",params:{type: "string"},message:"must be string"}];return false;}var valid8 = _errs68 === errors;if(!valid8){break;}}}else {validate15.errors = [{instancePath:instancePath+"/data/group_only_greetings",schemaPath:"#/properties/data/properties/group_only_greetings/type",keyword:"type",params:{type: "array"},message:"must be array"}];return false;}}var valid1 = _errs66 === errors;}else {var valid1 = true;}if(valid1){if(data2.creation_date !== undefined){var _errs70 = errors;if(!(typeof data2.creation_date == "number")){validate15.errors = [{instancePath:instancePath+"/data/creation_date",schemaPath:"#/properties/data/properties/creation_date/type",keyword:"type",params:{type: "number"},message:"must be number"}];return false;}var valid1 = _errs70 === errors;}else {var valid1 = true;}if(valid1){if(data2.modification_date !== undefined){var _errs72 = errors;if(!(typeof data2.modification_date == "number")){validate15.errors = [{instancePath:instancePath+"/data/modification_date",schemaPath:"#/properties/data/properties/modification_date/type",keyword:"type",params:{type: "number"},message:"must be number"}];return false;}var valid1 = _errs72 === errors;}else {var valid1 = true;}}}}}}}}}}}}}}}}}}}}}}}}else {validate15.errors = [{instancePath:instancePath+"/data",schemaPath:"#/properties/data/type",keyword:"type",params:{type: "object"},message:"must be object"}];return false;}}var valid0 = _errs6 === errors;}else {var valid0 = true;}}}}}else {validate15.errors = [{instancePath:instancePath,schemaPath:"#/type",keyword:"type",params:{type: "object"},message:"must be object"}];return false;}}validate15.errors = vErrors;return errors === 0;}function validate14(data, valCxt){"use strict"; ;if(valCxt){var instancePath = valCxt.instancePath;var parentData = valCxt.parentData;var parentDataProperty = valCxt.parentDataProperty;var rootData = valCxt.rootData;}else {var instancePath = "";var parentData = undefined;var parentDataProperty = undefined;var rootData = data;}var vErrors = null;var errors = 0;if(!(validate15(data, {instancePath:instancePath,parentData:parentData,parentDataProperty:parentDataProperty,rootData:rootData}))){vErrors = vErrors === null ? validate15.errors : vErrors.concat(validate15.errors);errors = vErrors.length;}validate14.errors = vErrors;return errors === 0;}